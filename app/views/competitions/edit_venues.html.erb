<% provide(:title, "Manage venue for #{@competition.name}") %>
<% add_to_packs("wca_maps") %>

<%= render layout: 'nav' do %>
  <% if !@competition.has_defined_dates? %>
    <div class="alert alert-danger">
      There is no start and/or end date assigned to this competition yet.
      Before you can manage your venues, you have to add them
      <%= link_to "here", edit_competition_path(@competition, anchor: "competition_start_date") %>.
    </div>
  <% elsif @competition.country.blank? %>
    <div class="alert alert-danger">
      There is no country assigned to this competition yet.
      Before you can manage your venues, you have to add one
      <%= link_to "here", edit_competition_path(@competition, anchor: "competition_countryId") %>.
    </div>
  <% else %>
    <%= react_component("EditVenues", {
      competitionId: @competition.id,
      wcifSchedule: @competition.schedule_wcif,
      countryZones: @competition.country_zones,
      referenceTime: @competition.start_date.to_fs,
    }, {
      id: 'edit-schedule-area'
    }) %>
  <% end %>
<% end %>
