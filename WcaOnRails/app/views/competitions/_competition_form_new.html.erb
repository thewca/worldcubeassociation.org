<% is_actually_confirmed = @competition.persisted? ? Competition.find(@competition.id).confirmed? : false %>
<% mail_to_wcat = mail_to Team.wcat.email, t("competitions.competition_form.wcat"), target: "_blank" %>
<%= react_component("CompetitionForm/CompetitionForm", {
    competition: {
      persisted: @competition.persisted?,
      confirmed: @competition.confirmed?,
      showAtAll: @competition.showAtAll?,
      id: @competition.id,
      name: @competition.name,
      cellName: @competition.cellName,
      name_reason: @competition.name_reason,
      countryId: @competition.countryId,
      cityName: @competition.cityName,
      venue: @competition.venue,
      venueDetails: @competition.venueDetails,
      venueAddress: @competition.venueAddress,
      latitude_degrees: @competition.latitude_degrees,
      longitude_degrees: @competition.longitude_degrees,
      start_date: @competition.start_date,
      end_date: @competition.end_date,
      registration_open: @competition.registration_open,
      registration_close: @competition.registration_close,
      information: @competition.information,
      competitor_limit_enabled: @competition.competitor_limit_enabled,
      competitor_limit: @competition.competitor_limit,
      competitor_limit_reason: @competition.competitor_limit_reason,
      staff_delegate_ids: @competition.staff_delegate_ids,
      trainee_delegate_ids: @competition.trainee_delegate_ids,
      organizer_ids: @competition.organizer_ids,
      contact: @competition.contact,
      generate_website: @competition.generate_website,
      external_website: @competition.external_website,
      championships: @competition.championships,
      use_wca_registration: @competition.use_wca_registration,
      use_wca_live_for_scoretaking: @competition.use_wca_live_for_scoretaking,
      external_registration_page: @competition.external_registration_page,
      currency_code: @competition.currency_code,
    },
    adminView: @competition_admin_view,
    isActuallyConfirmed: is_actually_confirmed,
    mailToWCAT: mail_to_wcat,
    countries: Country.all_sorted_by(I18n.locale),
    warningDistance: Competition::NEARBY_DISTANCE_KM_WARNING,
    dangerDistance: Competition::NEARBY_DISTANCE_KM_DANGER,
    currencies: Money::Currency.table.values.pluck(:name, :iso_code).uniq,
  }) %>