<% is_actually_confirmed = @competition.persisted? ? Competition.find(@competition.id).confirmed? : false %>
<% can_receive_reg_emails = @competition.can_receive_registration_emails?(current_user.id) %>
<% receive_reg_emails = @competition.receiving_registration_emails?(current_user.id) %>
<% mail_to_wcat = mail_to Team.wcat.email, t("competitions.competition_form.wcat"), target: "_blank" %>
<%= react_component("CompetitionForm/CompetitionForm", {
    competition: @competition.to_comp_form,
    regEmails: {
      can_receive_registration_emails: can_receive_reg_emails,
      receive_registration_emails: receive_reg_emails,
    },
    adminView: @competition_admin_view,
    isActuallyConfirmed: is_actually_confirmed,
    mailToWCAT: mail_to_wcat,
    countries: Country.all_sorted_by(I18n.locale),
    warningDistance: Competition::NEARBY_DISTANCE_KM_WARNING,
    dangerDistance: Competition::NEARBY_DISTANCE_KM_DANGER,
    currencies: Money::Currency.table.values.pluck(:name, :iso_code).uniq,
  }) %>
