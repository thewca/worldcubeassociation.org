<% is_actually_confirmed = @competition.persisted? ? Competition.find(@competition.id).confirmed? : false %>
<% mail_to_wcat = mail_to Team.wcat.email, t("competitions.competition_form.wcat"), target: "_blank" %>
<%= react_component("CompetitionForm/CompetitionForm", {
    competition: {
      persisted: @competition.persisted?,
      confirmed: @competition.confirmed?,
      showAtAll: @competition.showAtAll?,
      id: @competition.id,
      name: @competition.name,
      cellName: @competition.cellName,
      name_reason: @competition.name_reason,
      countryId: @competition.countryId,
      cityName: @competition.cityName,
      venue: @competition.venue,
      venueDetails: @competition.venueDetails,
      venueAddress: @competition.venueAddress,
      latitude_degrees: @competition.latitude_degrees,
      longitude_degrees: @competition.longitude_degrees,
      start_date: @competition.start_date,
      end_date: @competition.end_date,
      registration_open: @competition.registration_open,
      registration_close: @competition.registration_close,
      information: @competition.information,
      competitor_limit_enabled: @competition.competitor_limit_enabled,
      competitor_limit: @competition.competitor_limit,
      competitor_limit_reason: @competition.competitor_limit_reason,
      staff_delegate_ids: @competition.staff_delegate_ids,
      trainee_delegate_ids: @competition.trainee_delegate_ids,
      organizer_ids: @competition.organizer_ids,
      contact: @competition.contact,
      generate_website: @competition.generate_website,
      external_website: @competition.external_website,
      championships: @competition.championships,
      use_wca_registration: @competition.use_wca_registration,
      use_wca_live_for_scoretaking: @competition.use_wca_live_for_scoretaking,
      external_registration_page: @competition.external_registration_page,
      currency_code: @competition.currency_code,
      base_entry_fee_lowest_denomination: @competition.base_entry_fee_lowest_denomination,
      enable_donations: @competition.enable_donations,
      guests_enabled: @competition.guests_enabled,
      guests_entry_fee_lowest_denomination: @competition.guests_entry_fee_lowest_denomination,
      guest_entry_status: @competition.guest_entry_status,
      guests_per_registration_limit: @competition.guests_per_registration_limit,
      refund_policy_percent: @competition.refund_policy_percent,
      refund_policy_limit_date: @competition.refund_policy_limit_date,
      waiting_list_deadline_date: @competition.waiting_list_deadline_date,
      event_change_deadline_date: @competition.event_change_deadline_date,
      on_the_spot_registration: @competition.on_the_spot_registration,
      on_the_spot_entry_fee_lowest_denomination: @competition.on_the_spot_entry_fee_lowest_denomination,
      allow_registration_edits: @competition.allow_registration_edits,
      allow_registration_self_delete_after_acceptance: @competition.allow_registration_self_delete_after_acceptance,
      extra_registration_requirements: @competition.extra_registration_requirements,
      early_puzzle_submission: @competition.early_puzzle_submission,
      early_puzzle_submission_reason: @competition.early_puzzle_submission_reason,
      qualification_results: @competition.qualification_results,
      qualification_results_reason: @competition.qualification_results_reason,
      allow_registration_without_qualification: @competition.allow_registration_without_qualification,
      event_restrictions: @competition.event_restrictions,
      event_restrictions_reason: @competition.event_restrictions_reason,
      events_per_registration_limit: @competition.events_per_registration_limit,
      force_comment_in_registration: @competition.force_comment_in_registration,
      remarks: @competition.remarks,
    },
    adminView: @competition_admin_view,
    isActuallyConfirmed: is_actually_confirmed,
    mailToWCAT: mail_to_wcat,
    countries: Country.all_sorted_by(I18n.locale),
    warningDistance: Competition::NEARBY_DISTANCE_KM_WARNING,
    dangerDistance: Competition::NEARBY_DISTANCE_KM_DANGER,
    currencies: Money::Currency.table.values.pluck(:name, :iso_code).uniq,
  }) %>